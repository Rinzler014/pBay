{% extends "layouts/header2.html"%}


{% block content %}

  {% load static %}
  <!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Details</title>
      <link rel="stylesheet" href="{% static 'styles/global.css' %}" />
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

      
    </head>
    <style>
        .row{
            align-items: flex-end;
            margin-left: 5%;
            margin-right: 5%;
        }
        
        .mybutton{
            width: inherit;
            height: 60px;
            border: none;
            background: #16C79A;
            color: white;
            border-radius: 57px;
            margin-left: 5%;
            margin-top: 5%;
        }

        .p{
          font-size: large;
        }

    </style>     

    <body style="background-color:#F8f1f1;">

        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>

        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

        <script>

          function changemainimg(imagen) {
            var imagenPrincipal = document.getElementById("imagenPrincipal");
            imagenPrincipal.src = imagen.src;
          }

          function clickPosition(iddelproducto,idUsuario) {

            $.ajax({
              type: "GET",
              url: "/addProductShoppingCart",
              async: false,
              data: {
                  "idProducto" : iddelproducto,
                  "idUsuario": idUsuario
              },
              success: function (data) {
                  console.log("Data sended");
                  location.reload();
              },
              failure: function (data) {
                  alert("Failed to send data to server");
              }
            })

          }

        </script>

        <script src="{% static 'scripts/details.js' %}"></script>
        
          <div class="row">
            <div class="col-sm-8">
              <h1 style=" text-align:right; margin-top: 5%; color: #858585;margin-right: 5%;">Detalles del producto</h1>
            </div>
            <div class="col-sm-4">
              <button class="mybutton" style="width: 160px;" type="submit" name="btnAdd" 
              onclick="clickPosition('{{ producto_id }}', '{{ user }}')">Agregar a carrito</button>
            </div>
          </div>
          <div class="row" style="margin-top: 5%; align-items: flex-start;">
            <div class="col-sm">
              <div class="text-center">
                <img src="{% static 'images/prod_2.jpg' %}" style="margin-bottom: 5%;width: 30%!important;" alt="imagen1" onclick="changemainimg(this)">
                <div class="text-center">
                  <img src="{% static 'images/prod_3.jpg' %}" style="margin-bottom: 5%;width: 30%!important;" alt="imagen2" onclick="changemainimg(this)">
                </div>
                <div class="text-center">
                  <img src="{% static 'images/prod_4.jpg' %}" style="margin-bottom: 5%;width: 30%!important;" alt="imagen3" onclick="changemainimg(this)">
                </div>
              </div> 
            </div>
            <div class="col-sm">
              <img id="imagenPrincipal" src="{% static 'images/prod_4.jpg' %}" class="w-75 p-3" alt="Imagen Principal">
              <p style="margin-top: 5%;">{{ prodDetails.description }}</p>
            </div>
            <div class="col-sm">
              <p>Titulo: {{ prodDetails.title }}</p>
              <p>Precio: $ {{ prodDetails.price }}</p>
              <p>Tipo: {{ prodDetails.optionSale }}</p>
              <p>Disponibilidad: {{ prodDetails.stock }}</p>
              <button  class="mybutton" style="background: #11698E;">Notificarme cuando este disponible</button>
            </div> 
          </div>
        
    </body>
</html>

{% endblock %}
